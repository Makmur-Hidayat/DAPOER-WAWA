<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DAPOER WAWA</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f4f4f4;
      margin: 0;
    }

    .status-bar {
      text-align: center;
      font-weight: bold;
      padding: 10px;
      color: white;
      background: #dc3545;
      margin-bottom: 20px;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* Dua kolom untuk semua perangkat */
      gap: 20px;
      justify-content: center;
    }

    .card {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    select, textarea {
      width: 100%;
      margin: 8px 0;
      padding: 6px;
      font-size: 16px;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .qty-controls button {
      background: #ff7043;
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      font-size: 18px;
      border-radius: 4px;
    }

    .cart {
      margin-top: 30px;
    }

    .cart-item {
      background: white;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }

    .btn-orange {
      background: #ff7043;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
    }

    .btn-orange:hover {
      background: #e05c35;
    }

    .notif {
      position: fixed;
      top: 20px;
      right: 20px;
      background: red;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      z-index: 999;
    }

    .notif.show {
      opacity: 1;
    }

    .btn-kirim {
      background: #ff7043;
      color: white;
      font-weight: bold;
      padding: 16px 24px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      width: 100%;
      cursor: pointer;
      margin-top: 15px;
    }

    .btn-kirim:hover {
      background: white;
    }

    .alamat-detail {
      width: 100%;
      height: 2cm;
      margin-top: 8px;
      padding: 6px;
      box-sizing: border-box;
      resize: vertical;
    }

    /* Responsif gambar */
    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: auto;
    }
  </style>
</head>
<body>
<a href="https://makmur-hidayat.github.io/Sifood-Home/" target="_blank" 
   style="
     position: fixed;
     top: 5px;
     right: 27px;
     z-index: 999;
     text-decoration: none;
   ">
  <h2 style="
    color: #ff7043; 
    margin: 0; 
    font-size: 18px; 
    transition: color 0.3s;
  "
  onmouseover="this.style.color='#ff5722'" 
  onmouseout="this.style.color='#ff7043'">
    Warung Lainnya
  </h2>
</a>
<img src="https://i.ibb.co.com/KccY6t5Y/Properti-Sifood-20250507-215020-0000.jpg" alt="Ikan" 
style="width:100%; height:100%; display:block; margin:auto;" />

  <div id="statusBar" class="status-bar">TUTUP</div>
  <div id="notif" class="notif"></div>

  <div class="container">
    <!-- Makanan -->
    <div class="card">
      <h3>Makanan</h3>
      <select id="foodSelect">
        <option value="">Pilih Menu</option>
        <option value="Ayam Geprek-20000">Ayam geprek - 20.000</option>
        <option value="Pecel lele-17000">Pecel lele - 17.000</option>
        <option value="Mie Pedas Telur-15000">Mie Pedas Telur - 15.000</option>
      </select>

      <select id="foodExtra" multiple>
        <option value="Pakai Nasi-5000">Pakai Nasi - 5.000</option>
        <option value="Tanpa Nasi-0">Tanpa Nasi - 0</option> 
      </select>

      <select id="foodOption">
        <option value="">Pilih Opsi</option>
        <option value="Nasinya digabung">Nasinya digabung</option>
        <option value="Nasinya dipisah">Nasinya dipisah</option>
      </select>

      <div class="qty-controls">
        <button onclick="updateQty('food', -1)">-</button>
        <span id="foodQty">1</span>
        <button onclick="updateQty('food', 1)">+</button>
        <span id="foodSubtotal">0</span></span>
      </div>
      <textarea id="foodNote" placeholder="Catatan (opsional)"></textarea>
      <button class="btn-orange" onclick="addToCart('food')">Masukkan Keranjang</button>
    </div>

    <!-- Minuman -->
    <div class="card">
      <h3>Minuman</h3>
      <select id="drinkSelect">
        <option value="">Pilih Menu</option>
        <option value="Teh Hijau Original-5000">Teh Hijau Original - 5.000</option>
        <option value="Teh Hijau Susu-6000">Teh Hijau Susu - 6.000</option>
        <option value="Es Blend Merah Beludru-6000">Es Blend Merah Beludru - 6.000</option>
        <option value="Es Blend Coklat Sultan-6000">Es Blend Coklat Sultan - 6.000</option>
      </select>

      <select id="drinkExtra" multiple>
        <option value="Tanpa Extra-0">Tanpa Extra- 0</option>
      </select>
      <select id="drinkOption">
        <option value="">Pilih Opsi</option>
        <option value="Dingin">Dingin</option>
      </select>
      <div class="qty-controls">
        <button onclick="updateQty('drink', -1)">-</button>
        <span id="drinkQty">1</span>
        <button onclick="updateQty('drink', 1)">+</button>
        <span id="drinkSubtotal">0</span></span>
      </div>
      <textarea id="drinkNote" placeholder="Catatan (opsional)"></textarea>
      <button class="btn-orange" onclick="addToCart('drink')">Masukkan Keranjang</button>
    </div>
  </div>

  <!-- Keranjang -->
  <div class="cart">
    <h3>Keranjang</h3>
    <div id="cartList"></div>
    <div>Total Pesanan: <span id="cartTotal">0</span></div>

    <select id="lokasiAntar" onchange="updateOngkir()">
      <option value="">Pilih Lokasi Antar</option>
      <option value="Kilometer.0 -15000">Kilometer-0 - 15.000</option>
      <option value="Kilometer.1 -14000">Kilometer-1 - 14.000</option>
      <option value="Kilometer.2 -12000">Kilometer-2 - 12.000</option>
      <option value="Kilometer.3 -11000">Kilometer-3 - 11.000</option>
      <option value="Kilometer.4 -10000">Kilometer-4 - 10.000</option>
      <option value="Kilometer.5 -8000">Kilometer-5 - 8.000</option>
      <option value="Kilometer.6 -7000">Kilometer-6 - 7.000</option>
      <option value="Kilometer.7 -6000">Kilometer-7 - 6.000</option>
      <option value="Kilometer.8 -6000">Kilometer-8 - 6.000</option>
      <option value="Kilometer.9 -6000">Kilometer-9 - 6.000</option>
      <option value="Kilometer.10 & SP3 Sekitarnya -7000">Kilometer-10 & SP3 Sekitarnya - 7.000</option>
    </select>
    <div>Total + Ongkir: <span id="totalPlusOngkir">0</span></div>
    <textarea id="alamatDetail" class="alamat-detail" placeholder="detail alamat wajib di isi..."></textarea>
    <button class="btn-kirim" onclick="checkout()">KIRIM ORDERAN KE WHATSAPP ADMIN</button>
  </div>

  <script>
    // Script JavaScript yang diperlukan untuk menjalankan fitur checkout dan pemesanan
    let foodQty = 1;
    let drinkQty = 1;
    let cart = [];
    let statusOpen = true;

    document.getElementById('statusBar').innerHTML = statusOpen ? 'BUKA' : 'TUTUP';
    setInterval(() => {
      statusOpen = !statusOpen;
      document.getElementById('statusBar').innerHTML = statusOpen ? 'BUKA' : 'TUTUP';
      disableButtons(statusOpen);
    }, 60000);  // Perbarui status buka/tutup setiap menit

    function disableButtons(status) {
      const buttons = document.querySelectorAll('.btn-orange');
      buttons.forEach(button => button.disabled = !status);
    }

    function updateQty(type, change) {
      if (type === 'food') {
        foodQty += change;
        if (foodQty < 1) foodQty = 1;
        document.getElementById('foodQty').textContent = foodQty;
      } else {
        drinkQty += change;
        if (drinkQty < 1) drinkQty = 1;
        document.getElementById('drinkQty').textContent = drinkQty;
      }
    }

    function addToCart(type) {
      let selectedItem, qty, note;
      if (type === 'food') {
        selectedItem = document.getElementById('foodSelect').value;
        qty = foodQty;
        note = document.getElementById('foodNote').value;
      } else {
        selectedItem = document.getElementById('drinkSelect').value;
        qty = drinkQty;
        note = document.getElementById('drinkNote').value;
      }

      if (selectedItem) {
        cart.push({item: selectedItem, qty, note});
        updateCart();
      }
    }

    function updateCart() {
      const cartList = document.getElementById('cartList');
      cartList.innerHTML = '';
      let total = 0;

      cart.forEach(item => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.textContent = `${item.item} x ${item.qty} (${item.note})`;
        cartList.appendChild(div);
        total += parseInt(item.item.split('-')[1]);
      });

      document.getElementById('cartTotal').textContent = total;
    }

    function checkout() {
      const alamat = document.getElementById('alamatDetail').value;
      if (!alamat) {
        alert("Harap isi alamat!");
        return;
      }

      let pesan = `Orderan:\n`;
      cart.forEach(item => {
        pesan += `${item.item} x ${item.qty} (${item.note})\n`;
      });

      pesan += `Alamat: ${alamat}\nTotal: ${document.getElementById('cartTotal').textContent}`;
      window.open(`https://wa.me/1234567890?text=${encodeURIComponent(pesan)}`, '_blank');
    }

    function updateOngkir() {
      const ongkirSelect = document.getElementById('lokasiAntar');
      const ongkir = parseInt(ongkirSelect.value.split('-')[1]);
      const total = parseInt(document.getElementById('cartTotal').textContent);
      const totalPlusOngkir = total + ongkir;
      document.getElementById('totalPlusOngkir').textContent = totalPlusOngkir;
    }
  </script>
</body>
</html>
